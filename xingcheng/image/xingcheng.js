
$(function(){
    var hangban = "<div class='routable_cont_bg first_cont_bg routable_cont_curr'> <table> <colgroup> <col class='width01'> <col class='width02'> <col class='width03'> </colgroup> <tbody> <tr> <td class='t_r'> <div class='title_icon'> <span class='icon flt_icon01 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span> <div class='add_frame01'> <ul> <li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li> <a href='' class='add_box'>用餐</a> <!--<span class='icon food_icon01' data-bind='event:{click:function(d,e){$root.getAddNewRouteValue(e,d)}}'></span>--> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span> <div class='second_cont food_cont '> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> </div> </li> <li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsThemeResource()=='T'&&($root.ResourceTypeId()==9||$root.ResourceTypeId()==10||$root.ResourceTypeId()==11||$root.ResourceTypeId()==26)--><!--/ko--> <!-- ko if:($root.IsThemeResource()=='T'||$root.IsStudyTourResource()==true||$root.IsTourResource()==true||$root.IsDingzhiResource()==true)&&($root.IsRetail()=='F')--><!--/ko--> </ul> </div> </div> </td> <td rowspan='2'> <!--<div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}' />:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}' /> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}' /> </div>--> <div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display: none;'> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <!-- ko if:$root.ResourceTypeId()!=9&&$root.ResourceTypeId()!=10&&$root.ResourceTypeId()!=33&&$root.ResourceTypeId()!=41--><!--/ko--> </td> <td><input name='' type='text' class='input_text input_text_long02' placeholder='请输入航班信息' data-bind='value:Description'></td> </tr> <tr> <td class='t_r'></td> <td> <div class='xc_input_box01'> <div class='select_cont01 select_cont02'> <!-- 需要出现下拉框的时候加上select_cont_cur --> <span class='show_text' data-bind='text:IsDirectCopy,event:{click:function(d,e){$root.selectIsDirect(e,d)}}'>待定</span><i class='down_icon01' data-bind='event:{click:function(d,e){$root.selectIsDirect(e,d)}}'></i> <div class='select_list'> <ul class='type01'> <li>直飞</li> <li>中转</li> <li>待定</li> </ul> </div> </div> <div class='time_input_box02 time_box_fillin'> <span class='tit01'>飞行距离</span> <div class='input_box01'> <input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' placeholder='飞行距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'> </div> </div> <div class='time_input_box01 time_box_fillin'> <span class='tit01'>行驶</span> <div class='input_box01'><input type='text'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeMm,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div> </div> <!-- ko if:IsTransfer()==true--><!--/ko--> </div> </td> </tr> </tbody> </table> <i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> <!--<span class='routable_add'></span>--> </div>"

    var jiaotong = "<div class='routable_cont_bg first_cont_bg routable_cont_curr'> <table> <colgroup> <col class='width01'> <col class='width02'> <col class='width03'> </colgroup> <tbody> <tr> <td class='t_r'> <div class='title_icon'> <span class='icon car_icon01 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span> <div class='add_frame01'> <ul> <li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li> <a href='' class='add_box'>用餐</a> <!--<span class='icon food_icon01' data-bind='event:{click:function(d,e){$root.getAddNewRouteValue(e,d)}}'></span>--> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span> <div class='second_cont food_cont '> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> </div> </li> <li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsThemeResource()=='T'&&($root.ResourceTypeId()==9||$root.ResourceTypeId()==10||$root.ResourceTypeId()==11||$root.ResourceTypeId()==26)--><!--/ko--> <!-- ko if:($root.IsThemeResource()=='T'||$root.IsStudyTourResource()==true||$root.IsTourResource()==true||$root.IsDingzhiResource()==true)&&($root.IsRetail()=='F')--><!--/ko--> </ul> </div> </div> </td> <td rowspan='2'> <div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <!--<input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>--> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display: none;'> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <!-- ko if:$root.ResourceTypeId()!=9&&$root.ResourceTypeId()!=10&&$root.ResourceTypeId()!=33&&$root.ResourceTypeId()!=41--><!--/ko--> </td> <td> <textarea name='' id='' class='textarea03 input_text_long02' placeholder='请输入交通信息' data-bind='value:Description'></textarea> <!--<input name='' type='text' class='input_text input_text_long01' placeholder='请输入交通信息' data-bind='value:Description' />--> </td> </tr> <tr> <td class='t_r'></td> <td> <div class='xc_input_box01'> <div class='time_input_box02 time_box_fillin'> <span class='tit01'>行驶距离</span> <div class='input_box01'> <input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'> </div> </div> <div class='time_input_box01 time_box_fillin'> <span class='tit01'>行驶</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeHh,blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeMm,blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> </div> </td> </tr> </tbody> </table> <i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> <!--<span class='routable_add'></span>--> </div>"

    var jiudian = "<div class='routable_cont_bg first_cont_bg routable_cont_curr' data-bind='value:$index'> <table> <colgroup> <col class=' width01'> <col class='width02'> <col class='width03'> </colgroup> <tbody> <tr> <td class='t_r'> <div class='title_icon'> <span class='icon hotel_icon01 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span> <div class='add_frame01'> <ul> <li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li> <a href='' class='add_box'>用餐</a> <!--<span class='icon food_icon01' data-bind='event:{click:function(d,e){$root.getAddNewRouteValue(e,d)}}'></span>--> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span> <div class='second_cont food_cont '> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> </div> </li> <li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsThemeResource()=='T'&&($root.ResourceTypeId()==9||$root.ResourceTypeId()==10||$root.ResourceTypeId()==11||$root.ResourceTypeId()==26)--><!--/ko--> <!-- ko if:($root.IsThemeResource()=='T'||$root.IsStudyTourResource()==true||$root.IsTourResource()==true||$root.IsDingzhiResource()==true)&&($root.IsRetail()=='F')--><!--/ko--> </ul> </div> </div> </td> <td rowspan='2'> <div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display: none;'> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <!-- ko if:$root.ResourceTypeId()!=9&&$root.ResourceTypeId()!=10&&$root.ResourceTypeId()!=33&&$root.ResourceTypeId()!=41--><!--/ko--> </td> <td> <div class='add_box htl_add_box'> <!-- ko foreach:ResourceTourDailyHotelList()--> <div class='xc_input_cont01'> <div class='input_handle01 edit' data-bind='css:HotelHighLightColor()==true?'input_handle01 edit wrong_style01':'input_handle01 edit''> <!-- 点击后加上input_handle01_cur会出现下拉框 --> <i class='tips_star'>*</i> <input name='' type='text' class='input_text input_text_long01' placeholder='请输入酒店名称' data-bind='value:HotelName,event:{keyup:function(d,e){ $root.HotelIsNull(e,d)},blur:function(d,e){ $root.ClearSearchSciencList(e,d)},focus:function(d,e){$root.searchHotelList(e,d)}}'> <a href='javascript:void(0);' class='del' data-bind='value:$index,event:{click:function(d,e){ $root.removeHotelValue(e,d)}}'><i class=' close_icon02'></i></a> <!--<a href='#' class='del'>此处应该是当输入酒店名称且input_handle01加上edit出现删除图标<i class='close_icon02'></i></a>--> <div class='select_list'> <div class='' style=''> <ul class='type01'> <!-- ko foreach:$root.HotelList()--> <li> <!-- ko text:HotelName-->当地四星级酒店<!-- /ko --> <!-- ko if:IsHasItems()==true--><!-- /ko --> </li> <li> <!-- ko text:HotelName-->当地三星级酒店<!-- /ko --> <!-- ko if:IsHasItems()==true--><!-- /ko --> </li> <li> <!-- ko text:HotelName-->当地经济型酒店<!-- /ko --> <!-- ko if:IsHasItems()==true--><!-- /ko --> </li> <li> <!-- ko text:HotelName-->当地特色住宿<!-- /ko --> <!-- ko if:IsHasItems()==true--> <i class='right_icon01'></i> <div class='second_cont' style='display:none;'> <!-- ko foreach:items()--> <a href='#' data-bind='text:HotelName'>帐篷露营</a> <a href='#' data-bind='text:HotelName'>房车</a> <a href='#' data-bind='text:HotelName'>客栈或民宿</a> <a href='#' data-bind='text:HotelName'>主题特色酒店</a> <a href='#' data-bind='text:HotelName'>营地</a> <a href='#' data-bind='text:HotelName'>培训机构</a> <a href='#' data-bind='text:HotelName'>农家乐</a> <a href='#' data-bind='text:HotelName'>当地宿舍</a> <a href='#' data-bind='text:HotelName'>寄宿家庭</a> <a href='#' data-bind='text:HotelName'>游艇</a> <!-- /ko --> </div> <!-- /ko --> </li> <li> <!-- ko text:HotelName-->自选酒店<!-- /ko --> <!-- ko if:IsHasItems()==true--><!-- /ko --> </li> <li> <!-- ko text:HotelName-->游轮<!-- /ko --> <!-- ko if:IsHasItems()==true--> <i class='right_icon01'></i> <div class='second_cont' style='display:none;'> <!-- ko foreach:items()--> <a href='#' data-bind='text:HotelName'>2钻游轮舱房</a> <a href='#' data-bind='text:HotelName'>3钻游轮舱房</a> <a href='#' data-bind='text:HotelName'>4钻游轮舱房</a> <a href='#' data-bind='text:HotelName'>5钻游轮舱房</a> <a href='#' data-bind='text:HotelName'>6钻游轮舱房</a> <!-- /ko --> </div> <!-- /ko --> </li> <li> <!-- ko text:HotelName-->夜宿交通<!-- /ko --> <!-- ko if:IsHasItems()==true--> <i class='right_icon01'></i> <div class='second_cont' style='display:none;'> <!-- ko foreach:items()--> <a href='#' data-bind='text:HotelName'>夜宿火车</a> <a href='#' data-bind='text:HotelName'>夜宿飞机</a> <a href='#' data-bind='text:HotelName'>夜宿游轮</a> <!-- /ko --> </div> <!-- /ko --> </li> <!-- /ko --> </ul> </div> </div> </div> <!-- ko if:IsHasOr()==true--><!-- /ko --> <!-- ko if:IsHasOr()==false--> <a href='javascript:void(0);' class='add_icon01' data-bind='event:{click:function(d,e){ $root.addHotleName(e,d)}}'></a> <!-- /ko --> </div> <!-- /ko --> </div> </td> <!--<td><div class='add_box htl_add_box'><p class='input_handle01 edit'><input name='' type='text' class='input_text input_text_long01' placeholder='请输入酒店名称'><a href='#' class='del'><i class='close_icon02'></i></a></p><span class='or_and'>或</span><p class='input_handle01 edit'><input name='' type='text' class='input_text input_text_long01' placeholder='请输入酒店名称'><a href='#' class='del'><i class='close_icon02'></i></a></p><a href='' class='add_icon01'></a></div></td>--> </tr> <tr> <td class='t_r'></td> <td> <div class='xc_input_box01'> <div class='time_input_box02 time_box_fillin'> <span class='tit01'>行驶距离</span> <div class='input_box01'> <input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'> </div> </div> <div class='time_input_box01 time_box_fillin'> <span class='tit01'>行驶</span> <div class='input_box01'><input type='text' value='30' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeHh,event:{focus:function(d,e){$root.hideHotelList(e,d)},blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' value='30' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeMm,event:{focus:function(d,e){$root.hideHotelList(e,d)},blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div> </div> <!--<a href='javascript:void(0);' class='copy_btn'>复制到其他天数</a>--> <div class='copy_btn copy_btn_cur'> <a href='javascript:void(0);' data-bind='click:function(d,e){$root.copyOtherDays(e,d)}'>复制到其他天数</a> <div class='time_frame01' style='width:148px;margin-top:-1px;display:none'> <div class='date_cont'> <!-- ko foreach:$root.CopyEffectDaysList()--> <!-- ko if:$parent.OrderDay()!=$index()+1--> <a href='javascript:void(0);' class='round_icon01' data-bind='text:Name,click:function(d,e){$root.getDayValue(e,d)}'>D1</a> <!-- /ko --> <!-- ko if:$parent.OrderDay()!=$index()+1--><!-- /ko --> <!-- /ko --> <div class='btn_box'> <a href='javascript:void(0);' class='sure' data-bind='click:function(d,e){$root.SureCopy(e,d)}'>确定</a> <a href='javascript:void(0);' class='js_cancle' data-bind='click:function(d,e){$root.CancleCopy(e,d)}'>取消</a> </div> </div> </div> </div> </div> </td> </tr> <!-- ko if:$root.IsRetail()=='T'--> <tr> <td class='t_r'></td> <td></td> <td> <div class='xc_input_box01'> <textarea name='' id='' class='textarea03' placeholder='请输入说明' data-bind='value:Description'></textarea> <!--<input name='' type='text' class='input_text input_text_long01' placeholder='请输入说明' data-bind='value:Description' />--> </div> </td> </tr> <!-- /ko --> </tbody> </table> <i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> <!--<span class='routable_add'></span>--> </div>"

    var gouwu = "<div class='routable_cont_bg first_cont_bg routable_cont_curr' data-bind='value:$index'> <table> <colgroup> <col class='width01'> <col class='width02'> <col class='width03'> </colgroup> <tbody> <tr> <td class='t_r'> <div class='title_icon'> <span class='icon buy_icon01 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span> <div class='add_frame01'> <ul> <li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li> <a href='' class='add_box'>用餐</a> <!--<span class='icon food_icon01' data-bind='event:{click:function(d,e){$root.getAddNewRouteValue(e,d)}}'></span>--> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span> <div class='second_cont food_cont '> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> </div> </li> <li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsThemeResource()=='T'&&($root.ResourceTypeId()==9||$root.ResourceTypeId()==10||$root.ResourceTypeId()==11||$root.ResourceTypeId()==26)--><!--/ko--> <!-- ko if:($root.IsThemeResource()=='T'||$root.IsStudyTourResource()==true||$root.IsTourResource()==true||$root.IsDingzhiResource()==true)&&($root.IsRetail()=='F')--><!--/ko--> </ul> </div> </div> </td> <td rowspan='2'> <div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <!--<input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>--> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display: none;'> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <!-- ko if:$root.ResourceTypeId()!=9&&$root.ResourceTypeId()!=10&&$root.ResourceTypeId()!=33&&$root.ResourceTypeId()!=41--><!--/ko--> </td> <td> <div class='add_box flag_add_box'> <!-- ko foreach:ResourceTourDailyScenicSpotList()--> <div class='input_handle01 edit' data-bind='css:SciencHighLightColor()==true?'input_handle01 edit wrong_style01':'input_handle01 edit''> <!-- 点击后加上input_handle01_cur会出现下拉框 --> <i class='tips_star'>*</i> <input name='' type='text' class='input_text input_text_long02' placeholder='地点名称或ID' data-bind='value:PreName,event:{keyup:function(d,e){ $root.SciencIsNull(e,d)},blur:function(d,e){ $root.ClearSearchSciencList(e,d)},focus:function(d,e){$root.searchSciencList(e,d)}}'> <a href='javascript:void(0);' class='del' data-bind='value:$index,event:{click:function(d,e){ $root.removeScenicSpotValue(e,d)}}'><i class='close_icon02'></i></a> <div class='select_list'> <div class='product_scroll_wrap' style='height:300px'> <ul class='type01'> <!-- ko foreach:$root.ScenicList()--><!-- /ko --> </ul> </div> </div> </div> <!-- 点击后加上cur出现下拉框 --> <!--/ko--> </div> </td> </tr> <tr> <td class='t_r'></td> <td> <div class='xc_input_box01'> <div class='time_input_box02 time_box_fillin'> <span class='tit01'>行驶距离</span> <div class='input_box01'> <input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'> </div> </div> <div class='time_input_box01 time_box_fillin'> <span class='tit01'>行驶</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeHh,blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeMm,blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> <div class='time_input_box01 time_box_fillin' data-bind='css:SciencActivityTimeHighLightColor()==true?'time_input_box01 time_box_fillin wrong_style01':'time_input_box01 time_box_fillin''> <span class='tit01'><i class='tips_star'>*</i>活动</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeHh,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeMm,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> <input name='' type='text' class='input_text input_text_shot01' placeholder='营业产品' data-bind='value:ProductsOnSale'> <a href='#' class='state01' data-bind='event:{click:function(d,e){$root.PopDetailDescription(e,d)}}'>详细说明<i></i></a> </div> </td> </tr> <tr> <td class='t_r'></td> <td></td> <td> <div class='xc_input_box01' style='display:none'> <textarea name='' id='' class='textarea03 input_text_long02' placeholder='请输入说明' data-bind='value:Description,event:{focus:function(d,e){$root.hideSciencList(e,d)}}'></textarea> </div> </td> </tr> </tbody> </table> <i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> <!--<span class='routable_add'></span>--> </div>"

    var ziyouhuodong = "<div class='routable_cont_bg first_cont_bg routable_cont_curr'> <table> <colgroup> <col class='width01'> <col class='width02'> <col class='width03'> </colgroup> <tbody> <tr> <td class='t_r'> <div class='title_icon'> <span class='icon phone_icon02 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span> <div class='add_frame01'> <ul> <li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li> <a href='' class='add_box'>用餐</a> <!--<span class='icon food_icon01' data-bind='event:{click:function(d,e){$root.getAddNewRouteValue(e,d)}}'></span>--> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span> <div class='second_cont food_cont '> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> </div> </li> <li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsThemeResource()=='T'&&($root.ResourceTypeId()==9||$root.ResourceTypeId()==10||$root.ResourceTypeId()==11||$root.ResourceTypeId()==26)--><!--/ko--> <!-- ko if:($root.IsThemeResource()=='T'||$root.IsStudyTourResource()==true||$root.IsTourResource()==true||$root.IsDingzhiResource()==true)&&($root.IsRetail()=='F')--><!--/ko--> </ul> </div> </div> </td> <td rowspan='2'> <div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <!--<input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>--> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display: none;'> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <!-- ko if:$root.ResourceTypeId()!=9&&$root.ResourceTypeId()!=10&&$root.ResourceTypeId()!=33&&$root.ResourceTypeId()!=41--><!--/ko--> </td> <td> <div class='add_box pic_add_box'> <textarea name='' id='' class='textarea03 input_text_long02' placeholder='请输入自由活动名称' data-bind='value:Description'></textarea> <!--<input name='' type='text' class='input_text input_text_long01' placeholder='请输入自由活动名称' data-bind='value:Description' />--> </div> </td> </tr> <tr> <td class='t_r'></td> <td> <div class='xc_input_box01'> <div class='time_input_box02 time_box_fillin'> <span class='tit01'>行驶距离</span> <div class='input_box01'> <input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'> </div> </div> <div class='time_input_box01 time_box_fillin'> <span class='tit01'>行驶</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeHh,blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeMm,blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> <div class='time_input_box01 time_box_fillin' data-bind='css:SciencActivityTimeHighLightColor()==true?'time_input_box01 time_box_fillin wrong_style01':'time_input_box01 time_box_fillin''> <span class='tit01'>活动</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeHh,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeMm,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> </div> </td> </tr> </tbody> </table> <i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> <!--<span class='routable_add'></span>--> </div>"

    var kecheng = "<div class='routable_cont_bg first_cont_bg routable_cont_curr' data-bind='value:$index'> <table> <colgroup> <col class='width01'> <col class='width02'> <col class='width03'> </colgroup> <tbody> <tr> <td class='t_r'> <div class='title_icon'> <span class='icon book_icon01 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span> <div class='add_frame01'> <ul> <li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li> <a href='' class='add_box'>用餐</a> <!--<span class='icon food_icon01' data-bind='event:{click:function(d,e){$root.getAddNewRouteValue(e,d)}}'></span>--> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span> <div class='second_cont food_cont '> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> </div> </li> <li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsThemeResource()=='T'&&($root.ResourceTypeId()==9||$root.ResourceTypeId()==10||$root.ResourceTypeId()==11||$root.ResourceTypeId()==26)--><!--/ko--> <!-- ko if:($root.IsThemeResource()=='T'||$root.IsStudyTourResource()==true||$root.IsTourResource()==true||$root.IsDingzhiResource()==true)&&($root.IsRetail()=='F')--><!--/ko--> </ul> </div> </div> </td> <td rowspan='2'> <div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <!--<input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>--> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display: none;'> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <!-- ko if:$root.ResourceTypeId()!=9&&$root.ResourceTypeId()!=10&&$root.ResourceTypeId()!=33&&$root.ResourceTypeId()!=41--><!--/ko--> </td> <td> <div class='add_box flag_add_box'> <!-- ko foreach:ResourceTourDailyScenicSpotList()--> <div class='input_handle01 edit' data-bind='css:SciencHighLightColor()==true?'input_handle01 edit wrong_style01':'input_handle01 edit''> <!-- 点击后加上input_handle01_cur会出现下拉框 --> <i class='tips_star'>*</i> <input name='' type='text' class='input_text input_text_long01' placeholder='地点名称或ID' data-bind='value:PreName,event:{keyup:function(d,e){ $root.SciencIsNull(e,d)},blur:function(d,e){ $root.ClearSearchSciencList(e,d)},focus:function(d,e){$root.searchSciencList(e,d)}}'> <a href='javascript:void(0);' class='del' data-bind='value:$index,event:{click:function(d,e){ $root.removeScenicSpotValue(e,d)}}'><i class='close_icon02'></i></a> <div class='select_list'> <div class='product_scroll_wrap' style='height:300px'> <ul class='type01'> <!-- ko foreach:$root.ScenicList()--><!-- /ko --> </ul> </div> </div> </div> <!-- ko if:IsHasStatus()==true--><!-- /ko --> <!-- ko if:IsHasStatus()==false--> <a href='javascript:void(0);' class='add_icon01' data-bind='event:{click:function(d,e){ $root.addScenicSpotName(e,d)}}'></a> <!-- /ko --> <!-- 点击后加上cur出现下拉框 --> <!--/ko--> </div> </td> </tr> <tr> <td class='t_r'></td> <td> <div class='xc_input_box01'> <div class='time_input_box02 time_box_fillin'> <span class='tit01'>行驶距离</span> <div class='input_box01'> <input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'> </div> </div> <div class='time_input_box01 time_box_fillin'> <span class='tit01'>行驶</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeHh,blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeMm,blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> <div class='time_input_box01 time_box_fillin' data-bind='css:SciencActivityTimeHighLightColor()==true?'time_input_box01 time_box_fillin wrong_style01':'time_input_box01 time_box_fillin''> <span class='tit01'><i class='tips_star'>*</i>活动</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeHh,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeMm,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> <a href='#' class='state01' data-bind='event:{click:function(d,e){$root.PopDetailDescription(e,d)}}'>详细说明<i></i></a> </div> </td> </tr> <tr> <td class='t_r'></td> <td></td> <td> <div class='xc_input_box01' style='display:none'> <textarea name='' id='' class='textarea03' placeholder='请输入说明' data-bind='value:Description,event:{focus:function(d,e){$root.hideSciencList(e,d)}}'></textarea> </div> </td> </tr> </tbody> </table> <i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> <!--<span class='routable_add'></span>--> </div>"

    var huodong = "<div class='routable_cont_bg first_cont_bg routable_cont_curr' data-bind='value:$index'> <table> <colgroup> <col class='width01'> <col class='width02'> <col class='width03'> </colgroup> <tbody> <tr> <td class='t_r'> <div class='title_icon'> <span class='icon pic_icon01 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span> <div class='add_frame01'> <ul> <li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li> <a href='' class='add_box'>用餐</a> <!--<span class='icon food_icon01' data-bind='event:{click:function(d,e){$root.getAddNewRouteValue(e,d)}}'></span>--> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span> <div class='second_cont food_cont '> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> </div> </li> <li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsStudyTourResource()==true&&($root.ResourceTypeId()==33||$root.ResourceTypeId()==34||$root.ResourceTypeId()==41||$root.ResourceTypeId()==42)--> <li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li> <!--/ko--> <!-- ko if:$root.IsThemeResource()=='T'&&($root.ResourceTypeId()==9||$root.ResourceTypeId()==10||$root.ResourceTypeId()==11||$root.ResourceTypeId()==26)--><!--/ko--> <!-- ko if:($root.IsThemeResource()=='T'||$root.IsStudyTourResource()==true||$root.IsTourResource()==true||$root.IsDingzhiResource()==true)&&($root.IsRetail()=='F')--><!--/ko--> </ul> </div> </div> </td> <td rowspan='2'> <div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''> <i class='tips_star'>*</i> <!--<input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>--> <input name='' type='text' readonly='readonly' class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly='readonly' type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display: none;'> <i class=' tips_star'>*</i> <input name='' type='text' readonly='readonly' class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'> </div> <!-- ko if:$root.ResourceTypeId()!=9&&$root.ResourceTypeId()!=10&&$root.ResourceTypeId()!=33&&$root.ResourceTypeId()!=41--><!--/ko--> </td> <td> <div class='add_box flag_add_box'> <!-- ko foreach:ResourceTourDailyScenicSpotList()--> <div class='input_handle01 edit' data-bind='css:SciencHighLightColor()==true?'input_handle01 edit wrong_style01':'input_handle01 edit''> <!-- 点击后加上input_handle01_cur会出现下拉框 --> <i class='tips_star'>*</i> <input name='' type='text' class='input_text input_text_long01' placeholder='地点名称或ID' data-bind='value:PreName,event:{keyup:function(d,e){ $root.SciencIsNull(e,d)},blur:function(d,e){ $root.ClearSearchSciencList(e,d)},focus:function(d,e){$root.searchSciencList(e,d)}}'> <a href='javascript:void(0);' class='del' data-bind='value:$index,event:{click:function(d,e){ $root.removeScenicSpotValue(e,d)}}'><i class='close_icon02'></i></a> <div class='select_list'> <div class='product_scroll_wrap' style='height:300px'> <ul class='type01'> <!-- ko foreach:$root.ScenicList()--><!-- /ko --> </ul> </div> </div> </div> <!-- ko if:IsHasStatus()==true--><!-- /ko --> <!-- ko if:IsHasStatus()==false--> <a href='javascript:void(0);' class='add_icon01' data-bind='event:{click:function(d,e){ $root.addScenicSpotName(e,d)}}'></a> <!-- /ko --> <!-- 点击后加上cur出现下拉框 --> <!--/ko--> </div> </td> </tr> <tr> <td class='t_r'></td> <td> <div class='xc_input_box01'> <div class='time_input_box02 time_box_fillin'> <span class='tit01'>行驶距离</span> <div class='input_box01'> <input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'> </div> </div> <div class='time_input_box01 time_box_fillin'> <span class='tit01'>行驶</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeHh,blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:DriveTimeMm,blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> <div class='time_input_box01 time_box_fillin' data-bind='css:SciencActivityTimeHighLightColor()==true?'time_input_box01 time_box_fillin wrong_style01':'time_input_box01 time_box_fillin''> <span class='tit01'><i class='tips_star'>*</i>活动</span> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeHh,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>小时</span></div> <div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,'')' data-bind='value:TakeTimeMm,event:{focus:function(d,e){$root.hideSciencList(e,d)}},blur:function(d){$root.validateNumber(d)}'><span class='text'>分钟</span></div> </div> <a href='#' class='state01' data-bind='event:{click:function(d,e){$root.PopDetailDescription(e,d)}}'>详细说明<i></i></a> </div> </td> </tr> <tr> <td class='t_r'></td> <td></td> <td> <div class='xc_input_box01' style='display:none'> <textarea name='' id='' class='textarea03' placeholder='请输入说明' data-bind='value:Description,event:{focus:function(d,e){$root.hideSciencList(e,d)}}'></textarea> </div> </td> </tr> </tbody> </table> <i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> <!--<span class='routable_add'></span>--> </div>"

    var routable_add = "<div class='routable_add'> <a href='#' class='add_btn01'> <span class='fh'>+</span>新增行程 </a> <div class='add_frame01'> <ul> <li><a href='#' class='add_box'>航班</a><span class='icon flt_icon01'></span></li> <li><a href='#' class='add_box'>交通</a><span class='icon car_icon01'></span></li> <li><a href='#' class='add_box'>酒店</a><span class='icon hotel_icon01'></span></li> <li><a href='#' class='add_box'>景点</a><span class='icon flag_icon01'></span></li> <li> <a href='#' class='add_box'>用餐</a> <span class='icon food_icon01'></span> <div class='second_cont food_cont '> <a href='#'>早餐</a> <a href='#'>午餐</a> <a href='#'>晚餐</a> </div> </li> <li><a href='#' class='add_box'>购物</a><span class='icon buy_icon01'></span></li> <li><a href='#' class='add_box'>自由活动</a><span class='icon phone_icon02'></span></li> <li><a href='#' class='add_box'>课程</a><span class='icon book_icon01'></span></li> <li><a href='#' class='add_box'>活动</a><span class='icon pic_icon01'></span></li> "

    var xuanzeriqi = "<div class='time_frame01'> <div class='time_table'> <div class='left'> <table> <tbody> <tr> <td><a href='javascript:void(0);' class='round_icon01'>00</a></td> <td><a href='javascript:void(0);' class='round_icon01'>01</a></td> <td><a href='javascript:void(0);' class='round_icon01'>02</a></td> <td><a href='javascript:void(0);' class='round_icon01'>03</a></td> <td><a href='javascript:void(0);' class='round_icon01'>04</a></td> <td><a href='javascript:void(0);' class='round_icon01'>05</a></td> </tr> <tr> <td><a href='javascript:void(0);' class='round_icon01'>06</a></td> <td><a href='javascript:void(0);' class='round_icon01'>07</a></td> <td><a href='javascript:void(0);' class='round_icon01'>08</a></td> <td><a href='javascript:void(0);' class='round_icon01'>09</a></td> <td><a href='javascript:void(0);' class='round_icon01'>10</a></td> <td><a href='javascript:void(0);' class='round_icon01'>11</a></td> </tr> <tr> <td><a href='javascript:void(0);' class='round_icon01'>12</a></td> <td><a href='javascript:void(0);' class='round_icon01'>13</a></td> <td><a href='javascript:void(0);' class='round_icon01'>14</a></td> <td><a href='javascript:void(0);' class='round_icon01'>15</a></td> <td><a href='javascript:void(0);' class='round_icon01'>16</a></td> <td><a href='javascript:void(0);' class='round_icon01'>17</a></td> </tr> <tr> <td><a href='javascript:void(0);' class='round_icon01'>18</a></td> <td><a href='javascript:void(0);' class='round_icon01'>19</a></td> <td><a href='javascript:void(0);' class='round_icon01'>20</a></td> <td><a href='javascript:void(0);' class='round_icon01'>21</a></td> <td><a href='javascript:void(0);' class='round_icon01'>22</a></td> <td><a href='javascript:void(0);' class='round_icon01'>23</a></td> </tr> </tbody> </table> <span class='maohao'></span> </div> <div class='right'> <table> <tbody> <tr> <td><a href='javascript:void(0);' class='round_icon01'>00</a></td> <td><a href='javascript:void(0);' class='round_icon01'>10</a></td> </tr> <tr> <td><a href='javascript:void(0);' class='round_icon01'>15</a></td> <td><a href='javascript:void(0);' class='round_icon01'>20</a></td> </tr> <tr> <td><a href='javascript:void(0);' class='round_icon01'>30</a></td> <td><a href='javascript:void(0);' class='round_icon01'>40</a></td> </tr> <tr> <td><a href='javascript:void(0);' class='round_icon01'>45</a></td> <td><a href='javascript:void(0);' class='round_icon01'>50</a></td> </tr> </tbody> </table> </div> </div> <p class='tips_title'><span>不确定具体时间点</span></p> <p class='date_box'><a href='javascript:void(0);' class='round_icon01'>上午</a><a href='javascript:void(0);' class='round_icon01'>下午</a><a href='javascript:void(0);' class='round_icon01'>晚上</a><a href='javascript:void(0);' class='round_icon01'>全天</a></p> </div>"

    var zaocan = "<div class='routable_cont_bg first_cont_bg routable_cont_curr'><table><colgroup><col class='width01'><col class='width02'><col class='width03'></colgroup><tbody><tr><td class='t_r'><div class='title_icon'><span class='icon food_icon01 js_select_icon js_breakfast' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}},css:BreakFastFlagView()==true?'js_breakfast':LunchFlagView()==true?'js_lunch':'js_dinner''></span><div class='add_frame01'><ul><li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>用餐</a> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span><div class='second_cont food_cont'><a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a></div></li><li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li></ul></div></div></td><td rowspan='2'><div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''><i class='tips_star'>*</i> <input name='' type='text' readonly class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div><div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display:none'><i class='tips_star'>*</i> <input name='' type='text' readonly class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div></td><td><div class='add_box food_add_box'><div class='input_handle01'><span class='food_tit01'>早餐：</span>        <input name='' type='text' class='input_text input_text_long02' placeholder='请输入早餐内容' data-bind='value:Description'>    <a href='#' class='del'><i class='close_icon02'></i></a></div><label class='choose_cont'><i class='js_have_dinner choose_box01' data-bind='css:ByYourSelf()==true?'choose_box02':'choose_box01',event:{click:function(d, e){ $root.selectOwnCharge(e,d)}}'></i>自理</label><div class='price_ck' data-bind='visible:ByYourSelf()==true' style='display:none'><div class='select_cont01' data-bind='event:{click:function(d,e){ $root.selectMoneyType(e,d)}}'><span class='show_text' data-bind='text:DinnerCostCurrency'>人民币</span><i class='down_icon01'></i><div class='select_list'><div class='product_scroll_wrap' style='height:300px'><ul class='type01'><li data-bind='text:Description'>迪尔汗</li><li data-bind='text:Description'>阿富汗尼</li><li data-bind='text:Description'>亚美尼亚德拉姆</li><li data-bind='text:Description'>阿根廷比索</li><li data-bind='text:Description'>澳大利亚元</li><li data-bind='text:Description'>阿塞拜疆马纳特</li><li data-bind='text:Description'>阿塞拜疆马纳特</li><li data-bind='text:Description'>保加利亚列弗</li><li data-bind='text:Description'>巴林第纳尔</li><li data-bind='text:Description'>文莱元</li><li data-bind='text:Description'>巴西里尔</li><li data-bind='text:Description'>博茨瓦纳普拉</li><li data-bind='text:Description'>白俄罗斯卢布</li><li data-bind='text:Description'>加拿大元</li><li data-bind='text:Description'>瑞士法郎</li><li data-bind='text:Description'>智利比索</li><li data-bind='text:Description'>离岸人民币</li><li data-bind='text:Description'>哥伦比亚比索</li><li data-bind='text:Description'>哥斯达黎加科朗</li><li data-bind='text:Description'>佛得角群岛埃斯库多</li><li data-bind='text:Description'>捷克克朗</li><li data-bind='text:Description'>丹麦克朗</li><li data-bind='text:Description'>阿尔及利亚第纳尔</li><li data-bind='text:Description'>埃及镑</li><li data-bind='text:Description'>欧元</li><li data-bind='text:Description'>斐济元</li><li data-bind='text:Description'>英镑</li><li data-bind='text:Description'>格鲁吉亚拉里</li><li data-bind='text:Description'>加纳塞地</li><li data-bind='text:Description'>危地马拉格查尔</li><li data-bind='text:Description'>港币</li><li data-bind='text:Description'>克罗地亚库纳</li><li data-bind='text:Description'>匈牙利福林</li><li data-bind='text:Description'>印尼盾</li><li data-bind='text:Description'>以色列新谢克尔</li><li data-bind='text:Description'>印度卢比</li><li data-bind='text:Description'>伊朗里亚尔</li><li data-bind='text:Description'>冰岛克朗</li><li data-bind='text:Description'>牙买加元</li><li data-bind='text:Description'>约旦第纳尔</li><li data-bind='text:Description'>日元</li><li data-bind='text:Description'>韩元</li><li data-bind='text:Description'>科威特第纳尔</li><li data-bind='text:Description'>哈萨克斯坦</li><li data-bind='text:Description'>斯里兰卡卢比</li><li data-bind='text:Description'>莱索托洛蒂</li><li data-bind='text:Description'>摩洛哥道拉姆</li><li data-bind='text:Description'>摩尔多瓦列伊</li><li data-bind='text:Description'>马达加斯加阿里亚里</li><li data-bind='text:Description'>澳门元</li><li data-bind='text:Description'>毛里求斯卢比</li><li data-bind='text:Description'>墨西哥比索</li><li data-bind='text:Description'>马来西亚林吉特</li><li data-bind='text:Description'>莫桑比克新梅蒂卡尔</li><li data-bind='text:Description'>纳米比亚元</li><li data-bind='text:Description'>尼日利亚奈拉</li><li data-bind='text:Description'>挪威克朗</li><li data-bind='text:Description'>新台币</li><li data-bind='text:Description'>新西兰元</li><li data-bind='text:Description'>阿曼里亚尔</li><li data-bind='text:Description'>巴布亚基纳</li><li data-bind='text:Description'>菲律宾比索</li><li data-bind='text:Description'>巴基斯坦卢比</li><li data-bind='text:Description'>波兰兹罗提</li><li data-bind='text:Description'>卡塔尔里亚尔</li><li data-bind='text:Description'>人民币</li><li data-bind='text:Description'>罗马尼亚列伊</li><li data-bind='text:Description'>俄罗斯卢布</li><li data-bind='text:Description'>沙特里亚尔</li><li data-bind='text:Description'>瑞典克朗</li><li data-bind='text:Description'>新加坡元</li><li data-bind='text:Description'>斯威士兰里兰吉尼</li><li data-bind='text:Description'>泰株</li><li data-bind='text:Description'>土耳其里拉</li><li data-bind='text:Description'>新台币</li><li data-bind='text:Description'>乌克兰格里夫纳</li><li data-bind='text:Description'>美元</li><li data-bind='text:Description'>越南盾</li><li data-bind='text:Description'>中非共同体法郎</li><li data-bind='text:Description'>西非法郎</li><li data-bind='text:Description'>太平洋法郎</li><li data-bind='text:Description'>南非兰特</li></ul></div></div></div><div class='money'><input onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' class='input_text' type='text' placeholder='用餐费用参考' style='width:90px' data-bind='value:DinnerCost'></div></div></div></td></tr><tr><td class='t_r'></td><td><div class='xc_input_box01'><div class='time_input_box02 time_box_fillin'><span class='tit01'>行驶距离</span><div class='input_box01'><input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'></div></div><div class='time_input_box01 time_box_fillin'><span class='tit01'>行驶</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeHh,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeMm,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><div class='time_input_box01 time_box_fillin'><span class='tit01'>用餐</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeHh,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeMm,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><div class='copy_btn copy_btn_cur'><a href='javascript:void(0);' data-bind='click:function(d,e){$root.copyOtherDays(e,d)}'>复制到其他天数</a><div class='time_frame01' style='width:148px;margin-top:-1px;display:none'><div class='date_cont'><a href='javascript:void(0);' class='round_icon01' data-bind='text:Name,click:function(d,e){$root.getDayValue(e,d)}'>D1</a>   <div class='btn_box'><a href='javascript:void(0);' class='sure' data-bind='click:function(d,e){$root.SureCopy(e,d)}'>确定</a> <a href='javascript:void(0);' class='js_cancle' data-bind='click:function(d,e){$root.CancleCopy(e,d)}'>取消</a></div></div></div></div></div></td></tr></tbody></table><i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> </div>";

    var jingdian = "<div class='routable_cont_bg first_cont_bg routable_cont_curr' data-bind='value:$index'><table><colgroup><col class='width01'><col class='width02'><col class='width03'></colgroup><tbody><tr><td class='t_r'><div class='title_icon'><span class='icon flag_icon01 js_select_icon' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}}'></span><div class='add_frame01'><ul><li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>用餐</a>  <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span><div class='second_cont food_cont'><a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>早餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a></div></li><li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li></ul></div></div></td><td rowspan='2'><div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''><i class='tips_star'>*</i>  <input name='' type='text' readonly class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div><div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display:none'><i class='tips_star'>*</i> <input name='' type='text' readonly class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div></td><td><div class='add_box flag_add_box'><div class='input_handle01 edit' data-bind='css:SciencHighLightColor()==true?'input_handle01 edit wrong_style01':'input_handle01 edit''><i class='tips_star'>*</i> <input name='' type='text' class='input_text input_text_long02' placeholder='请输入景点名称' data-bind='value:PreName,event:{keyup:function(d,e){ $root.SciencIsNull(e,d)},focus:function(d,e){$root.searchSciencList(e,d)},blur:function(d,e){$root.ClearSearchSciencList(e,d)}}'><label class='choose_cont'><i class='choose_box01 js_select_scinic' data-bind='css:SuffixName()=='T'?'choose_box02':'',event:{click:function(d, e){ $root.selectAspect(e,d)}}'></i>外观</label><a href='javascript:void(0);' class='del' data-bind='value:$index,event:{click:function(d,e){ $root.removeScenicSpotValue(e,d)}}'><i class='close_icon02'></i></a><div class='select_list'><div class='product_scroll_wrap' style='height:300px'><ul class='type01'></ul></div></div></div><a href='javascript:void(0);' class='add_icon01' data-bind='event:{click:function(d,e){ $root.addScenicSpotName(e,d)}}'></a>   </div></td></tr><tr><td class='t_r'></td><td><div class='xc_input_box01'><div class='time_input_box02 time_box_fillin'><span class='tit01'>行驶距离</span><div class='input_box01'><input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'></div></div><div class='time_input_box01 time_box_fillin'><span class='tit01'>行驶</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeHh,event:{focus:function(d,e){$root.hideSciencList(e,d)},blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeMm,event:{focus:function(d,e){$root.hideSciencList(e,d)},blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><div class='time_input_box01 time_box_fillin' data-bind='css:SciencActivityTimeHighLightColor()==true?'time_input_box01 time_box_fillin wrong_style01':'time_input_box01 time_box_fillin''><span class='tit01'><i class='tips_star'>*</i>活动</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeHh,event:{focus:function(d,e){$root.hideSciencList(e,d)},blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeMm,event:{focus:function(d,e){$root.hideSciencList(e,d)},blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><a href='#' class='state01' data-bind='event:{click:function(d,e){$root.PopDetailDescription(e,d)}}'>详细说明<i></i></a></div></td></tr><tr><td class='t_r'></td><td></td><td><div class='xc_input_box01' style='display:none'><textarea name='' id='' class='textarea03 input_text_long02' placeholder='请输入说明' data-bind='value:Description,event:{focus:function(d,e){$root.hideSciencList(e,d)}}'></textarea></div></td></tr></tbody></table><i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> </div>";

    var wucan = "<div class='routable_cont_bg first_cont_bg routable_cont_curr'><table><colgroup><col class='width01'><col class='width02'><col class='width03'></colgroup><tbody><tr><td class='t_r'><div class='title_icon'><span class='icon food_icon01 js_select_icon js_breakfast' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}},css:BreakFastFlagView()==true?'js_breakfast':LunchFlagView()==true?'js_lunch':'js_dinner''></span><div class='add_frame01'><ul><li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>用餐</a> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span><div class='second_cont food_cont'><a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>午餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a></div></li><li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li></ul></div></div></td><td rowspan='2'><div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''><i class='tips_star'>*</i> <input name='' type='text' readonly class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div><div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display:none'><i class='tips_star'>*</i> <input name='' type='text' readonly class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div></td><td><div class='add_box food_add_box'><div class='input_handle01'><span class='food_tit01'>午餐：</span>        <input name='' type='text' class='input_text input_text_long02' placeholder='请输入午餐内容' data-bind='value:Description'>    <a href='#' class='del'><i class='close_icon02'></i></a></div><label class='choose_cont'><i class='js_have_dinner choose_box01' data-bind='css:ByYourSelf()==true?'choose_box02':'choose_box01',event:{click:function(d, e){ $root.selectOwnCharge(e,d)}}'></i>自理</label><div class='price_ck' data-bind='visible:ByYourSelf()==true' style='display:none'><div class='select_cont01' data-bind='event:{click:function(d,e){ $root.selectMoneyType(e,d)}}'><span class='show_text' data-bind='text:DinnerCostCurrency'>人民币</span><i class='down_icon01'></i><div class='select_list'><div class='product_scroll_wrap' style='height:300px'><ul class='type01'><li data-bind='text:Description'>迪尔汗</li><li data-bind='text:Description'>阿富汗尼</li><li data-bind='text:Description'>亚美尼亚德拉姆</li><li data-bind='text:Description'>阿根廷比索</li><li data-bind='text:Description'>澳大利亚元</li><li data-bind='text:Description'>阿塞拜疆马纳特</li><li data-bind='text:Description'>阿塞拜疆马纳特</li><li data-bind='text:Description'>保加利亚列弗</li><li data-bind='text:Description'>巴林第纳尔</li><li data-bind='text:Description'>文莱元</li><li data-bind='text:Description'>巴西里尔</li><li data-bind='text:Description'>博茨瓦纳普拉</li><li data-bind='text:Description'>白俄罗斯卢布</li><li data-bind='text:Description'>加拿大元</li><li data-bind='text:Description'>瑞士法郎</li><li data-bind='text:Description'>智利比索</li><li data-bind='text:Description'>离岸人民币</li><li data-bind='text:Description'>哥伦比亚比索</li><li data-bind='text:Description'>哥斯达黎加科朗</li><li data-bind='text:Description'>佛得角群岛埃斯库多</li><li data-bind='text:Description'>捷克克朗</li><li data-bind='text:Description'>丹麦克朗</li><li data-bind='text:Description'>阿尔及利亚第纳尔</li><li data-bind='text:Description'>埃及镑</li><li data-bind='text:Description'>欧元</li><li data-bind='text:Description'>斐济元</li><li data-bind='text:Description'>英镑</li><li data-bind='text:Description'>格鲁吉亚拉里</li><li data-bind='text:Description'>加纳塞地</li><li data-bind='text:Description'>危地马拉格查尔</li><li data-bind='text:Description'>港币</li><li data-bind='text:Description'>克罗地亚库纳</li><li data-bind='text:Description'>匈牙利福林</li><li data-bind='text:Description'>印尼盾</li><li data-bind='text:Description'>以色列新谢克尔</li><li data-bind='text:Description'>印度卢比</li><li data-bind='text:Description'>伊朗里亚尔</li><li data-bind='text:Description'>冰岛克朗</li><li data-bind='text:Description'>牙买加元</li><li data-bind='text:Description'>约旦第纳尔</li><li data-bind='text:Description'>日元</li><li data-bind='text:Description'>韩元</li><li data-bind='text:Description'>科威特第纳尔</li><li data-bind='text:Description'>哈萨克斯坦</li><li data-bind='text:Description'>斯里兰卡卢比</li><li data-bind='text:Description'>莱索托洛蒂</li><li data-bind='text:Description'>摩洛哥道拉姆</li><li data-bind='text:Description'>摩尔多瓦列伊</li><li data-bind='text:Description'>马达加斯加阿里亚里</li><li data-bind='text:Description'>澳门元</li><li data-bind='text:Description'>毛里求斯卢比</li><li data-bind='text:Description'>墨西哥比索</li><li data-bind='text:Description'>马来西亚林吉特</li><li data-bind='text:Description'>莫桑比克新梅蒂卡尔</li><li data-bind='text:Description'>纳米比亚元</li><li data-bind='text:Description'>尼日利亚奈拉</li><li data-bind='text:Description'>挪威克朗</li><li data-bind='text:Description'>新台币</li><li data-bind='text:Description'>新西兰元</li><li data-bind='text:Description'>阿曼里亚尔</li><li data-bind='text:Description'>巴布亚基纳</li><li data-bind='text:Description'>菲律宾比索</li><li data-bind='text:Description'>巴基斯坦卢比</li><li data-bind='text:Description'>波兰兹罗提</li><li data-bind='text:Description'>卡塔尔里亚尔</li><li data-bind='text:Description'>人民币</li><li data-bind='text:Description'>罗马尼亚列伊</li><li data-bind='text:Description'>俄罗斯卢布</li><li data-bind='text:Description'>沙特里亚尔</li><li data-bind='text:Description'>瑞典克朗</li><li data-bind='text:Description'>新加坡元</li><li data-bind='text:Description'>斯威士兰里兰吉尼</li><li data-bind='text:Description'>泰株</li><li data-bind='text:Description'>土耳其里拉</li><li data-bind='text:Description'>新台币</li><li data-bind='text:Description'>乌克兰格里夫纳</li><li data-bind='text:Description'>美元</li><li data-bind='text:Description'>越南盾</li><li data-bind='text:Description'>中非共同体法郎</li><li data-bind='text:Description'>西非法郎</li><li data-bind='text:Description'>太平洋法郎</li><li data-bind='text:Description'>南非兰特</li></ul></div></div></div><div class='money'><input onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' class='input_text' type='text' placeholder='用餐费用参考' style='width:90px' data-bind='value:DinnerCost'></div></div></div></td></tr><tr><td class='t_r'></td><td><div class='xc_input_box01'><div class='time_input_box02 time_box_fillin'><span class='tit01'>行驶距离</span><div class='input_box01'><input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'></div></div><div class='time_input_box01 time_box_fillin'><span class='tit01'>行驶</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeHh,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeMm,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><div class='time_input_box01 time_box_fillin'><span class='tit01'>用餐</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeHh,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeMm,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><div class='copy_btn copy_btn_cur'><a href='javascript:void(0);' data-bind='click:function(d,e){$root.copyOtherDays(e,d)}'>复制到其他天数</a><div class='time_frame01' style='width:148px;margin-top:-1px;display:none'><div class='date_cont'><a href='javascript:void(0);' class='round_icon01' data-bind='text:Name,click:function(d,e){$root.getDayValue(e,d)}'>D1</a>   <div class='btn_box'><a href='javascript:void(0);' class='sure' data-bind='click:function(d,e){$root.SureCopy(e,d)}'>确定</a> <a href='javascript:void(0);' class='js_cancle' data-bind='click:function(d,e){$root.CancleCopy(e,d)}'>取消</a></div></div></div></div></div></td></tr></tbody></table><i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> </div>";

    var wancan = "<div class='routable_cont_bg first_cont_bg routable_cont_curr'><table><colgroup><col class='width01'><col class='width02'><col class='width03'></colgroup><tbody><tr><td class='t_r'><div class='title_icon'><span class='icon food_icon01 js_select_icon js_breakfast' data-bind='event:{click:function(d,e){$root.changeRouteType(e,d)}},css:BreakFastFlagView()==true?'js_breakfast':LunchFlagView()==true?'js_lunch':'js_dinner''></span><div class='add_frame01'><ul><li><a href='' class='add_box'>航班</a><span class='icon flt_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>交通</a><span class='icon car_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>酒店</a><span class='icon hotel_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>景点</a><span class='icon flag_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>用餐</a> <span class='icon food_icon01' data-bind='event:{mouseover:function(d,e){$root.BlockDinnerMask(e,d)},mouseout:function(d,e){$root.HideDinnerMask(e,d)}}'></span><div class='second_cont food_cont'><a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a> <a href='javascript:void(0);' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'>晚餐</a></div></li><li><a href='' class='add_box'>购物</a><span class='icon buy_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>自由活动</a><span class='icon phone_icon02' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>课程</a><span class='icon book_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li><li><a href='' class='add_box'>活动</a><span class='icon pic_icon01' data-bind='event:{click:function(d,e){$root.getChangeAddNewRouteValue(e,d)}}'></span></li></ul></div></div></td><td rowspan='2'><div class='select_time' data-bind='visible:!SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':'',css:TimeHighLightColor()==true?'wrong_style01':'''><i class='tips_star'>*</i> <input name='' type='text' readonly class='input_text' placeholder='HH' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'>:<input name='' readonly type='text' class='input_text' placeholder='MM' data-bind='value:TakeOffTime_MM,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div><div class='select_time' data-bind='visible:SingleTimeVal(),css:SingleTimeVal()==true?'select_time01 ':''' style='display:none'><i class='tips_star'>*</i> <input name='' type='text' readonly class='input_text' data-bind='value:TakeOffTime_HH,event:{click:function(d,e){ $root.getTime(e,d)},blur:function(d){$root.validateNumber(d)}}'></div></td><td><div class='add_box food_add_box'><div class='input_handle01'><span class='food_tit01'>晚餐：</span>        <input name='' type='text' class='input_text input_text_long02' placeholder='请输入晚餐内容' data-bind='value:Description'>    <a href='#' class='del'><i class='close_icon02'></i></a></div><label class='choose_cont'><i class='js_have_dinner choose_box01' data-bind='css:ByYourSelf()==true?'choose_box02':'choose_box01',event:{click:function(d, e){ $root.selectOwnCharge(e,d)}}'></i>自理</label><div class='price_ck' data-bind='visible:ByYourSelf()==true' style='display:none'><div class='select_cont01' data-bind='event:{click:function(d,e){ $root.selectMoneyType(e,d)}}'><span class='show_text' data-bind='text:DinnerCostCurrency'>人民币</span><i class='down_icon01'></i><div class='select_list'><div class='product_scroll_wrap' style='height:300px'><ul class='type01'><li data-bind='text:Description'>迪尔汗</li><li data-bind='text:Description'>阿富汗尼</li><li data-bind='text:Description'>亚美尼亚德拉姆</li><li data-bind='text:Description'>阿根廷比索</li><li data-bind='text:Description'>澳大利亚元</li><li data-bind='text:Description'>阿塞拜疆马纳特</li><li data-bind='text:Description'>阿塞拜疆马纳特</li><li data-bind='text:Description'>保加利亚列弗</li><li data-bind='text:Description'>巴林第纳尔</li><li data-bind='text:Description'>文莱元</li><li data-bind='text:Description'>巴西里尔</li><li data-bind='text:Description'>博茨瓦纳普拉</li><li data-bind='text:Description'>白俄罗斯卢布</li><li data-bind='text:Description'>加拿大元</li><li data-bind='text:Description'>瑞士法郎</li><li data-bind='text:Description'>智利比索</li><li data-bind='text:Description'>离岸人民币</li><li data-bind='text:Description'>哥伦比亚比索</li><li data-bind='text:Description'>哥斯达黎加科朗</li><li data-bind='text:Description'>佛得角群岛埃斯库多</li><li data-bind='text:Description'>捷克克朗</li><li data-bind='text:Description'>丹麦克朗</li><li data-bind='text:Description'>阿尔及利亚第纳尔</li><li data-bind='text:Description'>埃及镑</li><li data-bind='text:Description'>欧元</li><li data-bind='text:Description'>斐济元</li><li data-bind='text:Description'>英镑</li><li data-bind='text:Description'>格鲁吉亚拉里</li><li data-bind='text:Description'>加纳塞地</li><li data-bind='text:Description'>危地马拉格查尔</li><li data-bind='text:Description'>港币</li><li data-bind='text:Description'>克罗地亚库纳</li><li data-bind='text:Description'>匈牙利福林</li><li data-bind='text:Description'>印尼盾</li><li data-bind='text:Description'>以色列新谢克尔</li><li data-bind='text:Description'>印度卢比</li><li data-bind='text:Description'>伊朗里亚尔</li><li data-bind='text:Description'>冰岛克朗</li><li data-bind='text:Description'>牙买加元</li><li data-bind='text:Description'>约旦第纳尔</li><li data-bind='text:Description'>日元</li><li data-bind='text:Description'>韩元</li><li data-bind='text:Description'>科威特第纳尔</li><li data-bind='text:Description'>哈萨克斯坦</li><li data-bind='text:Description'>斯里兰卡卢比</li><li data-bind='text:Description'>莱索托洛蒂</li><li data-bind='text:Description'>摩洛哥道拉姆</li><li data-bind='text:Description'>摩尔多瓦列伊</li><li data-bind='text:Description'>马达加斯加阿里亚里</li><li data-bind='text:Description'>澳门元</li><li data-bind='text:Description'>毛里求斯卢比</li><li data-bind='text:Description'>墨西哥比索</li><li data-bind='text:Description'>马来西亚林吉特</li><li data-bind='text:Description'>莫桑比克新梅蒂卡尔</li><li data-bind='text:Description'>纳米比亚元</li><li data-bind='text:Description'>尼日利亚奈拉</li><li data-bind='text:Description'>挪威克朗</li><li data-bind='text:Description'>新台币</li><li data-bind='text:Description'>新西兰元</li><li data-bind='text:Description'>阿曼里亚尔</li><li data-bind='text:Description'>巴布亚基纳</li><li data-bind='text:Description'>菲律宾比索</li><li data-bind='text:Description'>巴基斯坦卢比</li><li data-bind='text:Description'>波兰兹罗提</li><li data-bind='text:Description'>卡塔尔里亚尔</li><li data-bind='text:Description'>人民币</li><li data-bind='text:Description'>罗马尼亚列伊</li><li data-bind='text:Description'>俄罗斯卢布</li><li data-bind='text:Description'>沙特里亚尔</li><li data-bind='text:Description'>瑞典克朗</li><li data-bind='text:Description'>新加坡元</li><li data-bind='text:Description'>斯威士兰里兰吉尼</li><li data-bind='text:Description'>泰株</li><li data-bind='text:Description'>土耳其里拉</li><li data-bind='text:Description'>新台币</li><li data-bind='text:Description'>乌克兰格里夫纳</li><li data-bind='text:Description'>美元</li><li data-bind='text:Description'>越南盾</li><li data-bind='text:Description'>中非共同体法郎</li><li data-bind='text:Description'>西非法郎</li><li data-bind='text:Description'>太平洋法郎</li><li data-bind='text:Description'>南非兰特</li></ul></div></div></div><div class='money'><input onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' class='input_text' type='text' placeholder='用餐费用参考' style='width:90px' data-bind='value:DinnerCost'></div></div></div></td></tr><tr><td class='t_r'></td><td><div class='xc_input_box01'><div class='time_input_box02 time_box_fillin'><span class='tit01'>行驶距离</span><div class='input_box01'><input name='' type='text' class='input_text input_text_shot01' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' placeholder='行驶距离' data-bind='value:Distance,event:{blur:function(d){$root.validateNumber(d)}}'></div></div><div class='time_input_box01 time_box_fillin'><span class='tit01'>行驶</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeHh,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:DriveTimeMm,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><div class='time_input_box01 time_box_fillin'><span class='tit01'>用餐</span><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeHh,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>小时</span></div><div class='input_box01'><input type='text' onkeyup='this.value=this.value.replace(/[^\d\.]/g,&quot;&quot;)' data-bind='value:TakeTimeMm,event:{blur:function(d){$root.validateNumber(d)}}'><span class='text'>分钟</span></div></div><div class='copy_btn copy_btn_cur'><a href='javascript:void(0);' data-bind='click:function(d,e){$root.copyOtherDays(e,d)}'>复制到其他天数</a><div class='time_frame01' style='width:148px;margin-top:-1px;display:none'><div class='date_cont'><a href='javascript:void(0);' class='round_icon01' data-bind='text:Name,click:function(d,e){$root.getDayValue(e,d)}'>D1</a>   <div class='btn_box'><a href='javascript:void(0);' class='sure' data-bind='click:function(d,e){$root.SureCopy(e,d)}'>确定</a> <a href='javascript:void(0);' class='js_cancle' data-bind='click:function(d,e){$root.CancleCopy(e,d)}'>取消</a></div></div></div></div></div></td></tr></tbody></table><i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurRouteMask(e,d)}}'></i> </div>";


    var biaotibox = "<div class='title_box01' data-bind='css:TitleHighLight()==true?'title_box01 wrong_style01':'title_box01'' style='border: 1px solid rgb(204, 204, 204);'> <textarea class='input_text title_input_text01' placeholder='请输入标题' data-bind='value:DailyDesc,event:{focus:function(d,e){$root.DisplayTrafficIcon(e,d)},blur:function(d,e){$root.changeNotEditTitle(e,d)}}'></textarea> </div>"
    // console.log(hangban);
    $("body").on("click",function(e){
        // console.log(e)
        if($(e.target).parent().parent().parent().hasClass("add_frame01") || $(e.target).hasClass("add_btn01") ||$(e.target).hasClass("js_select_icon")){

        }else{
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur title_icon_cur");
            $(".route_mod01").find(".js_select_icon").parent().removeClass("addnew_route_cur routable_addcur title_icon_cur")
        }
    });

    $(".route_mod01").on("click",".add_btn01",function(e){

        e.preventDefault();
        var aaa = yanzhengbitian();console.log(aaa);if(aaa != undefined){return}//验证必填项
        bianlishouhui();//检测并收回正在编辑的日程

        $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur");
        $(this).parent().addClass("addnew_route_cur routable_addcur")
    });

    //每日行程底部增加
    $(".addnew_route").on("click",".icon",function(e){
        var aaa = yanzhengbitian();console.log(aaa);if(aaa != undefined){return}//验证必填想
        bianlishouhui();
        var thiscont = $($(this).siblings()[0]).text();
        if(thiscont =="航班"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(hangban).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="交通"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(jiaotong).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="酒店"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(jiudian).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="景点"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(jingdian).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="购物"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(gouwu).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="自由活动"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(ziyouhuodong).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="课程"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(kecheng).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="活动"){
            $(this).parent().parent().parent().parent().parent().find(".routable_cont").append(huodong).append(routable_add);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
    });

    //每日行程中间增加
    $(".routable_con_cur").on("click",".routable_add .icon",function(e){
        $(this).parents(".route_mod01").find(".time_frame01").remove();   //删除日期选择
        var aaa = yanzhengbitian();console.log(aaa);if(aaa != undefined){return}//验证必填想

        var thiscont = $($(this).siblings()[0]).text();
        if(thiscont =="航班"){
            $(this).parent().parent().parent().parent().after(routable_add).after(hangban);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="交通"){
            $(this).parent().parent().parent().parent().after(routable_add).after(jiaotong);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="酒店"){
            $(this).parent().parent().parent().parent().after(routable_add).after(jiudian);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="景点"){
            $(this).parent().parent().parent().parent().after(routable_add).after(jingdian);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="购物"){
            $(this).parent().parent().parent().parent().after(routable_add).after(gouwu);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="自由活动"){
            $(this).parent().parent().parent().parent().after(routable_add).after(ziyouhuodong);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="课程"){
            $(this).parent().parent().parent().parent().after(routable_add).after(kecheng);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(thiscont =="活动"){
            $(this).parent().parent().parent().parent().after(routable_add).after(huodong);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }

    });
    //早、午、晚餐在每日行程后面增加
    $(".addnew_route").on("click",".second_cont a",function(e){
        var ths_a = $($(this)).text();
        if(ths_a =="早餐"){
            $(this).parents(".route_mod01").find(".routable_cont").append(routable_add).append(zaocan);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(ths_a =="午餐"){
            $(this).parents(".route_mod01").find(".routable_cont").append(routable_add).append(wucan);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(ths_a =="晚餐"){
            $(this).parents(".route_mod01").find(".routable_cont").append(routable_add).append(wancan);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
    });
    //早、午、晚餐在每日行程中间增加
    $(".routable_add").on("click",".second_cont a",function(e){
        e.preventDefault();
        var ths_a = $($(this)).text();
        if(ths_a =="早餐"){
            $(this).parents(".routable_add").after(routable_add).after(zaocan);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(ths_a =="午餐"){
            $(this).parents(".routable_add").after(routable_add).after(wucan);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
        if(ths_a =="晚餐"){
            $(this).parents(".routable_add").after(routable_add).after(wancan);
            //收回按钮
            $(".route_mod01").find(".add_btn01").parent().removeClass("addnew_route_cur routable_addcur")
        }
    });

    //正在编辑的行程更换类型
    $(".routable_con_cur").on("click",".routable_cont_curr .js_select_icon",function(){
        bianlishouhui();
        $(this).parent().addClass("title_icon_cur")
    });
    //编辑过的行程更换类型
    $(".routable_con_cur").on("click",".routable_complete .js_select_icon",function(){
        bianlishouhui();
        $(this).parent().addClass("title_icon_cur")
    });
    //正在编辑切换类型  add_frame01
    $(".routable_con_cur").on("click",".routable_cont_curr .add_frame01 .icon",function(){
        //清除

        var thiscont = $($(this).siblings()[0]).text();
        console.log(thiscont);
        if(thiscont =="航班"){
            $(this).parents(".routable_cont_curr").after(hangban).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="交通"){
            $(this).parents(".routable_cont_curr").after(jiaotong).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="酒店"){
            $(this).parents(".routable_cont_curr").after(jiudian).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="景点"){
            $(this).parents(".routable_cont_curr").after(jingdian).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="购物"){
            $(this).parents(".routable_cont_curr").after(gouwu).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="自由活动"){
            $(this).parents(".routable_cont_curr").after(ziyouhuodong).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="课程"){
            $(this).parents(".routable_cont_curr").after(kecheng).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="活动"){
            $(this).parents(".routable_cont_curr").after(huodong).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }

    });
    //编辑过切换类型  add_frame01
    $(".routable_con_cur").on("click",".routable_complete .add_frame01 .icon",function(){
        var thiscont = $($(this).siblings()[0]).text();
        console.log(thiscont);
        if(thiscont =="航班"){
            $(this).parents(".routable_complete").after(hangban).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="交通"){
            $(this).parents(".routable_complete").after(jiaotong).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="酒店"){
            $(this).parents(".routable_complete").after(jiudian).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="景点"){
            $(this).parents(".routable_complete").after(jingdian).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="购物"){
            $(this).parents(".routable_complete").after(gouwu).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="自由活动"){
            $(this).parents(".routable_complete").after(ziyouhuodong).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="课程"){
            $(this).parents(".routable_complete").after(kecheng).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
        if(thiscont =="活动"){
            $(this).parents(".routable_complete").after(huodong).remove();
            //收回按钮
            $(this).parent().parent().parent().parent().removeClass("title_icon_cur")
        }
    });
    //编辑过的行程 重新编辑

    $(".route_mod01").on("click",".routable_complete",function(){
        $(this).parents(".route_mod01").find(".time_frame01").remove();  //删除日期选择
        var aaa = yanzhengbitian();console.log(aaa);if(aaa != undefined){return}//验证必填想

        //console.log("!23");
        bianlishouhui();
        $(this).removeClass("routable_complete").addClass("routable_cont_curr").find("table").eq(1).remove();
        $(this).find("table").eq(0).show()
    });

    //删除单条行程 routable_cont_bg
    $(".routable_con_cur").on("click",".routable_cont_bg .del_icon01",function(){

        if(confirm("确定要删除吗？")){
            $(this).parent().next(".routable_add").remove();
            $(this).parent().remove()
        }
    });
    
    //删除每日行程大标题
    $(".date_title").on("click",".del_icon01",function(){
        if(confirm("确定要删除吗？")){
            $(this).parents(".date_title").addClass("cur")
            if($(this).parent().hasClass("rendor_icon")){
                $(this).parent().parent().append(biaotibox).append("<i class='del_icon01' data-bind='visible:IsRouteListNull(),event:{click:function(d,e){$root.RemoveCurDayRouteMask(e,d)}}'></i>")
                $(this).parent().remove()
            }else{
                $(this).prev().find("textarea").val("")
            }
        }
    })
    
    //重新编辑每日行程大标题
    $(".date_title").on("click",function(){
        var aaa = yanzhengbitian();console.log(aaa);if(aaa != undefined){return}//验证必填想
        bianlishouhui()
        if($(this).hasClass("cur")){return}
        var dabiaoti = $(this).find("a").text()
        $(this).append(biaotibox).append("<i class='del_icon01' data-bind='visible:IsRouteListNull(),event:{click:function(d,e){$root.RemoveCurDayRouteMask(e,d)}}'></i>").find("textarea").val(dabiaoti)
        
        $(this).addClass("cur").find(".rendor_icon").remove()
    })
    
    
    

    //点击弹出选择时间
    var riqi = $("#timeTemplate").text();

    $(".route_mod01").on("click",".select_time",function(){
        $(this).addClass("select_time_cur");

        $(this).append(riqi)

    });

    $(".route_mod01").on("click",".time_frame01 .left a",function(e){
        e.preventDefault();
        e.stopPropagation();//阻止冒泡
        var hh = $(this).text();
        $(this).parents(".select_time").removeClass("select_time01");

        $(this).parents(".select_time").find("input[placeholder=HH]").val(hh);
        console.log($(this).parents(".select_time").find("input[placeholder=HH]").val()!="" && $(this).parents(".select_time").find("input[placeholder=MM]").val()!="")

        if($(this).parents(".select_time").find("input[placeholder=HH]").val()!="" && $(this).parents(".select_time").find("input[placeholder=MM]").val()!=""){
            $(this).parents(".select_time").removeClass("select_time_cur");
        $(this).parents(".route_mod01").find(".time_frame01").parents(".select_time").find(".time_frame01").remove()
        }
    });

    $(".route_mod01").on("click",".time_frame01 .right a",function(e){
        e.preventDefault();
        e.stopPropagation();//阻止冒泡
        var mm = $(this).text();
        $(this).parents(".select_time").removeClass("select_time01");
        $(this).parents(".select_time").find("input[placeholder=MM]").show();
        $(this).parents(".select_time").find("input[placeholder=MM]").val(mm);
        if($(this).parents(".select_time").find("input[placeholder=HH]").val()!="" && $(this).parents(".select_time").find("input[placeholder=MM]").val()!=""){
            $(this).parents(".select_time").removeClass("select_time_cur");
        $(this).parents(".route_mod01").find(".time_frame01").parents(".select_time").find(".time_frame01").remove()
        }
    });
    $(".route_mod01").on("click",".time_frame01 .date_box a",function(e){
        e.preventDefault();
        e.stopPropagation();//阻止冒泡
        var a_p = $(this).text();
        $(this).parents(".select_time").addClass("select_time01").find("input[placeholder=HH]").val(a_p);
        $(this).parents(".select_time").removeClass("select_time_cur");
        $(this).parents(".select_time").find("input[placeholder=MM]").hide();
        $(this).parents(".route_mod01").find(".time_frame01").parents(".select_time").find(".time_frame01").remove()

    })

});


// var richengxinxi;
// var box01 = "";
// var td3 = "";
// var seltime = "";
// var yibianji = "";
function dabiaotishouhui(){
    var dabiaoti = $(".date_title.cur").find("textarea").val()
    $(".date_title.cur").find(".title_box01").remove()
    $(".date_title.cur").find("i").remove()
    $(".date_title.cur").append("<span class='rendor_icon'><a style='text-decoration:none;color:#000000' data-bind='html:DailyDesc()'>"+dabiaoti+"</a><i class='del_icon01' data-bind='event:{click:function(d,e){$root.RemoveCurDayRouteMask(e,d)}}'></i></span>")
    $(".date_title.cur").removeClass("cur")
    
}


//检测并收回正在编辑的日程
function bianlishouhui(){
//      $(this).parents(".route_mod01").find(".time_frame01").parents(".select_time").find(".time_frame01").remove()
        dabiaotishouhui()
//  console.log($(this.document).find(".route_mod01").find(".time_frame01").remove());
    $(this).find(".route_mod01").find(".time_frame01").parents(".select_time").find(".time_frame01").remove();//这里的this是window

    var aaa = yanzhengbitian();console.log(aaa);if(aaa != undefined){return}//验证必填想

    var richengxinxi = {};
    $.each($(".route_content .routable_cont_curr").find("*"),function(i,con){
        if($(con).attr("data-bind") == undefined ){return}else if($(con).attr("data-bind").split(",")[0].slice(0,5)!="value"){return}else if($(con).parent().css("display")=="none" || $(con).css("display")=="none"){return}
        // console.log(con)
        var rcKey = $(con).attr("data-bind").split(",")[0].slice(6);
        var rcValue = "" || $(con).val();

        console.log(rcKey);
        richengxinxi[rcKey] = rcValue

    });
    if(!$.isEmptyObject(richengxinxi)){
        var box01 = "";
        var td3 = "";
        var seltime = "";
        var yibianji = "";
        $.each(richengxinxi,function(i,con){
            if(con != ""){
                console.log(i+"/"+con);
                switch (i) {
                    case "TakeOffTime_HH":
                        seltime += con;
                        break;
                    case "TakeOffTime_MM":
                        seltime += (":"+con);
                        break;
                    case "Description":
                        td3 += "<div class='complete_text' data-bind='Description'>"+con+"</div>";
                        break;
                    case "IsDirectCopy":
                        td3 += "<div class='complete_text' data-bind='IsDirectCopy'>是否直飞："+con+"</div>";
                        break;
                    case "PreName":
                        td3 += "<div class='complete_text_long'><a href='javascript:void(0);' data-bind='PreName'>"+con+"</a></div>";
                        break;
                    case "HotelName":
                        td3 += "<div class='complete_text_long'>前往酒店：<a href='javascript:void(0);' data-bind='HotelName'>"+con+"</a></div>";
                        break;
                    case "Distance":
                        box01 += "<div class='complete_text' data-bind='Distance'>行驶距离：约"+con+"公里</div>";
                        break;
                    case "DriveTimeHh":
                        box01 += "<div class='complete_text' data-bind='DriveTimeHh'>行驶时长：约"+con+"小时</div>";
                        break;
                    case "TakeTimeHh":
                        box01 += "<div class='complete_text' data-bind='TakeTimeHh'>花费时间："+con+"小时</div>";
                        break;

                    default:
                }
            }
        });

        yibianji = $(".route_content .routable_cont_curr").find("table").clone();
        yibianji.find("tr").eq(0).find("td").eq(1).html("<span class='complete_time' data-bind='text:TakeOffTime()'>"+seltime+"</span>");
        yibianji.find("tr").eq(0).find("td").eq(2).html(td3);
        // console.log(td3)
        yibianji.find("tr").eq(1).find(".xc_input_box01").html(box01);
        yibianji.find("tr").eq(2).remove();
        $(".route_content .routable_cont_curr").removeClass("routable_cont_curr").addClass("routable_complete").find("table").eq(0).hide().after(yibianji);
        //    console.log(yibianji)
        //  var richengTime ="12:20"
        //     $(".route_content .routable_cont_curr").find("tr").eq(0).find("td").eq(2).remove()
        //     $(".route_content .routable_cont_curr").find("tr").eq(0).find("td").eq(1).remove()
        //     $(".route_content .routable_cont_curr").find("tr").eq(0).append(td23)
        // $(".route_content .routable_cont_curr").find("tr").eq(0).find("td").eq(1).html("<span class='complete_time' data-bind='text:TakeOffTime()'>"+richengTime+"</span>")
        // $(".route_content .routable_cont_curr").find("tr").eq(0).find("td").eq(2).html("<span class='complete_time' data-bind='text:TakeOffTime()'>"+richengTime+"</span>")
        // $(".route_content .routable_cont_curr").find("tr").eq(1).find(".xc_input_box01").html(box01)
        // $(".route_content .routable_cont_curr").addClass("routable_complete").removeClass("routable_cont_curr")
        // console.log(richengxinxi)
    }
}


$(function(){
    $(".routable_cont").on("click",".copy_btn_cur",function(){
    	console.log("111");
    	$(this).find(".time_frame01").show();
    });

    $(".routable_cont").on("click",".copy_btn_cur .js_cancle",function(e){
        e.stopPropagation();
    $(this).parents(".time_frame01").hide();

    });
    
    $(".routable_cont").on("click",".round_icon01 ",function(){
        $(this).parents("table").find("a").removeClass("round_icon01_cur");
        $(this).toggleClass("round_icon01_cur")
    });
    
    $(".routable_cont").on("click",".sure ",function(){

    	var class1= $(this).parent().prev(".round_icon01").hasClass("round_icon01_cur");

    	    $(this).parent().parent().parent().hide();

        if(class1){
    			bianlishouhui();
        	 console.log($(this).parents(".routable_cont_bg"));
           $(this).parents(".D1").next(".D2").find(".routable_cont").append($(this).parents(".routable_cont_bg").clone());

         }else{
            alert("请选择复制到那一天");
        }
    });



});
function yanzhengbitian(){
    var wrong ;
    $.each($(".route_mod01").find("i.tips_star"),function(i,con){
        if($(con).parent().css("display") != "none" && $(con).next("input").val() == ""){
            $(con).parent().addClass("wrong_style01")
            wrong = $(con).parent();
            console.log("请填入必填项")
        }else{$(con).parent().removeClass("wrong_style01")}
    })
    return wrong
}
















